!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.RebixUtils=t():e.RebixUtils=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=25)}([function(e,t,n){"use strict";var r={},o=Math.pow(2,53)-1,i=function(e){return function(t){return null==t?void 0:t[e]}},s=i("length"),u=Object.prototype.toString,a=Array.isArray,c=Object.keys,f=r.isArrayLike=function(e){var t=s(e);return"number"==typeof t&&t>=0&&o>=t},l=r.isArray=a||function(e){return"[object Array]"===u.call(e)};r.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e};var p=r.each=r.forEach=function(e,t){var n,r;if(f(e))for(n=0,r=e.length;r>n;n++)t(e[n],n,e);else{var o=c(e);for(n=0,r=o.length;r>n;n++)t(e[o[n]],o[n],e)}return e};r.map=function(e,t){var n=[];return p(e,function(e,r){var o=t(e,r);n.push(o)}),n},r.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){r["is"+e]=function(t){return u.call(t)==="[object "+e+"]"}});var d=function(e,t){return function(n){var r=arguments.length;if(2>r||null==n)return n;for(var o=1;r>o;o++)for(var i=arguments[o],s=e(i),u=s.length,a=0;u>a;a++){var c=s[a];t&&void 0!==n[c]||(n[c]=i[c])}return n}};r.defaults=d(c,!0),r.assignObject=r.extend=r.assign=d(c,!1),r.isEmpty=function(e){return null==e||(f(e)&&(l(e)||r.isString(e)||r.isArguments(e))?0===e.length:0===c(e).length)},e.exports=r},function(e,t,n){"use strict";function r(e){return e.replace(/^\s*|\s*$/g,"")}function o(e){return e.replace(/^\s*/,"")}function i(e){return e.replace(/\s*$/,"")}function s(e,t){return e=""+e,0===e.indexOf(t)}var u=n(21),a=n(22),c=n(23),f=n(3);e.exports={trim:r,trimLeft:o,trimRight:i,startWith:s,camelCase:u,deCamelCase:a,slash:c,upFirstChar:f}},function(e,t,n){"use strict";function r(e,t){if(a[e])return void t(!1);var n=u("script");n.src=e,n.type="text/javascript",n.language="javascript",n.onload=n.onreadstatechange=function(){t(!0),a[e]=!0},s("body")[0].appendChild(n)}function o(e,t){if(a[e])return void t(!1);var n=u("link");n.rel="stylesheet",n.type="text/css",n.href=e,n.onload=n.onreadstatechange=function(){t(!0),a[e]=!0},s("head")[0].appendChild(n)}function i(e){return function(t){var n=c[t];return n?n:(n=new Promise(function(n){e(t,function(e){n(e)})}),c[t]=n,n)}}var s=document.getElementsByTagName,u=document.createElement,a={},c={},f=i(r),l=i(o);e.exports={loadStaticJS:r,loadStaticCSS:o,loadStaticJSPromise:f,loadStaticCssPromise:l}},function(e,t,n){"use strict";function r(e){return e.replace(/(^|\s+)\w/g,function(e){return e.toUpperCase()})}e.exports=r},function(e,t,n){"use strict";function r(e,t){for(var n=0;e.length>n;n++)t(e[n])}function o(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function i(e,t,n){var r=e;return h(t)?(n=t,"string"==typeof e&&(r={uri:e})):r=m(t,{uri:e}),r.callback=n,r}function s(e){function t(){4===f.readyState&&setTimeout(i,0)}function n(){var e=null;if(e=f.response?f.response:f.responseText||u(f),b)try{e=JSON.parse(e)}catch(e){}return e}function r(e){return clearTimeout(h),e instanceof Error||(e=Error(""+(e||"Unknown XMLHttpRequest Error"))),e.statusCode=0,a(e,x)}function i(){if(!d){var t;clearTimeout(h),t=e.useXDR&&void 0===f.status?200:1223===f.status?204:f.status;var r=x,o=null;return 0!==t?(r={body:n(),statusCode:t,method:v,headers:{},url:m,rawRequest:f},f.getAllResponseHeaders&&(r.headers=p(f.getAllResponseHeaders()))):o=Error("Internal XMLHttpRequest Error"),a(o,r,r.body)}}if(void 0===e.callback)throw Error("callback argument missing");var s=!1,a=function(t,n,r){s||(s=!0,e.callback(t,n,r))},f=e.xhr||null;f||(f=e.cors||e.useXDR?new c.XDomainRequest:new c.XMLHttpRequest);var l,d,h,m=f.url=e.uri||e.url,v=f.method=e.method||"GET",g=e.body||e.data,y=f.headers=e.headers||{},w=!!e.sync,b=!1,x={body:void 0,headers:{},statusCode:0,method:v,url:m,rawRequest:f};if("json"in e&&e.json!==!1&&(b=!0,y.accept||y.Accept||(y.Accept="application/json"),"GET"!==v&&"HEAD"!==v&&(y["content-type"]||y["Content-Type"]||(y["Content-Type"]="application/json"),g=JSON.stringify(e.json===!0?g:e.json))),f.onreadystatechange=t,f.onload=i,f.onerror=r,f.onprogress=function(){},f.onabort=function(){d=!0},f.ontimeout=r,f.open(v,m,!w,e.username,e.password),w||(f.withCredentials=!!e.withCredentials),!w&&e.timeout>0&&(h=setTimeout(function(){if(!d){d=!0,f.abort("timeout");var e=Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",r(e)}},e.timeout)),f.setRequestHeader)for(l in y)y.hasOwnProperty(l)&&f.setRequestHeader(l,y[l]);else if(e.headers&&!o(e.headers))throw Error("Headers cannot be set on an XDomainRequest object");return"responseType"in e&&(f.responseType=e.responseType),"beforeSend"in e&&"function"==typeof e.beforeSend&&e.beforeSend(f),f.send(g||null),f}function u(e){if("document"===e.responseType)return e.responseXML;var t=e.responseXML&&"parsererror"===e.responseXML.documentElement.nodeName;return""!==e.responseType||t?null:e.responseXML}function a(){}function c(e,t,n){return t=i(e,t,n),s(t)}function f(e){return new Promise(function(t,n){e=e||{};var r=e.uri||e.url;return e=i(r,e,function(e,r,o){e?n(e,r,o):t(r,o)}),e.method=method.toUpperCase(),s(e)})}var l=n(0),p=n(24),d=n(3),h=l.isFunction,m=l.extend;c.XMLHttpRequest=window.XMLHttpRequest||a,c.XDomainRequest="withCredentials"in new c.XMLHttpRequest?c.XMLHttpRequest:window.XDomainRequest;var v={};r(["get","put","post","patch","head","delete"],function(e){var t="ajax"+d(e);v[t]=function(t,n,r){return n=i(t,n,r),n.method=e.toUpperCase(),s(n)}}),r(["get","put","post","patch","head","delete"],function(e){var t="send"+d(e)+"Request";v[t]=function(e,t){return t=t||{},t.uri=e,f(t)}}),v.ajax=s,v.createXHR=c,v.sendRequest=f,e.exports=v},function(e,t,n){"use strict";function r(e){if(!e)return[];var t=Array.prototype.slice.call(e),n=[].concat(t);return n}e.exports={toArray:r}},function(e,t,n){"use strict";var r=window.location.host,o={set:function(e,t,n,o,i){if(i){var s=new Date,u=new Date;u.setTime(s.getTime()+36e5*i)}return window.document.cookie=e+"="+t+"; "+(i?"expires="+u.toGMTString()+"; ":"")+(o?"path="+o+"; ":"path=/; ")+(n?"domain="+n+";":"domain="+r+";"),!0},get:function(e){var t=RegExp("(?:^|;+|\\s+)"+e+"=([^;]*)"),n=window.document.cookie.match(t);return n?n[1]:""},remove:function(e,t,n){window.document.cookie=e+"=; expires=Mon, 26 Jul 1997 05:00:00 GMT; "+(n?"path="+n+"; ":"path=/; ")+(t?"domain="+t+";":"domain="+r+";")}};e.exports=o},function(e,t,n){"use strict";function r(e,t){var n=this;n.name=e,n[i]=t,n[o]=[]}var o="$$listeners$$",i="listenerWrapper",s=r.prototype;s.on=function(e,t){this[o].push({eventName:e,listener:t})},s.off=function(e,t){for(var n=this,r=n[o],i=[],s=0;r.length>s;s++){var u=r[s];u.eventName===e&&u.listener===t||i.push(u)}n[o]=i},s.emit=function(e,t,n,r,s,u){for(var a=this,c=a[o],f=a[i],l=0;c.length>l;l++){var p=c[l];p.eventName===e&&p.listener&&(f?f(p.listener,t,n,r,s,u):p.listener(t,n,r,s,u))}},e.exports=r},function(e,t,n){"use strict";function r(){for(var e=[],t=0;arguments.length>t;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n))e.push(r.apply(null,n));else if("object"===o)for(var i in n)a.call(n,i)&&n[i]&&e.push(i)}}return e.join(" ")}function o(e,t){return t=t||{},u({display:e?"block":"none"},t)}function i(e,t){return t=t||{},e&&(t.display="none"),t}var s=n(0),u=s.assignObject,a={}.hasOwnProperty;e.exports={classNames:r,showStyle:o,hideStyle:i}},function(e,t,n){"use strict";function r(){var e=this;e[u]=s,e[a]=s}function o(e,t,n){var r=f[n];return e+t*r}function i(e,t,n){return new Date(o(e.getTime(),t,n))}var s=null,u="_lastServerTimestamp",a="_lastClientTimestamp",c=r.prototype;c.updateServerTime=function(e){var t=this;t[u]=e,t[a]=(new Date).getTime()},c.getServerTimeNow=function(){var e=(new Date).getTime(),t=this;return t[u]?e+t[u]-t[a]:e};var f={ms:1,s:1e3,m:6e4,h:36e5,d:864e5,M:2628e6,Y:31536e6};e.exports={ServerTimeClass:r,ServerTimeUtils:new r,getTimeAfter:o,getDateAfter:i}},function(e,t,n){"use strict";function r(e){var t={};t.SPEC=["scheme","user","pass","host","port","path","query","fragment"],t.RE=/^([^:]+):\/\/(?:([^:@]+):?([^@]*)@)?(?:([^\/?#:]+):?(\d*))([^?#]*)(?:\?([^#]+))?(?:#(.+))?$/;var n;if(null!==(n=t.RE.exec(e))){for(var r={},o=0,i=t.SPEC.length;i>o;o++){var s=t.SPEC[o];r[s]=n[o+1]}n=r,r=null}return n}function o(e){e=e&&e.split("#")[0]||window.location.search;var t,n,r,o=e.indexOf("?"),i=e.substring(o+1).split("&"),s={};if(o===-1)return s;for(t=0;i.length>t;t++)try{if(o=i[t].indexOf("="),n=i[t].substring(0,o),r=i[t].substring(o+1),!(s[n]=r))throw Error("uri has wrong query string when run mapQuery.")}catch(e){console.log("错误：["+e.name+"] "+e.message+", "+e.fileName+", 行号:"+e.lineNumber+"; stack:"+typeof e.stack,2)}return s}function i(e,t){var n=o(t);return n[e]}function s(e){var t=u.map(e,function(e,t){return""+t+"="+encodeURIComponent(e)});return t.join("&")}var u=n(0);e.exports={parseURL:r,getQueryParam:i,mapQuery:o,toQueryString:s}},function(e,t,n){"use strict";var r=function(e,t){var n={"M+":e.getMonth()+1,"D+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};/(Y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length)));for(var r in n)RegExp("("+r+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?n[r]:("00"+n[r]).substr((""+n[r]).length)));return t};e.exports=r},function(e,t,n){"use strict";function r(e,t){try{var n=Math.floor,r=6e4,i=36e5,s=864e5,u=26784e5,a=321408e5,c=e;o.isString(e)?(e=e.replace(/-/gm,"/"),c=new Date(e)):o.isNumber(e)&&(c=new Date(e));var f=t?new Date(t):new Date,l=c.getTime(),p=f.getTime(),d=p-l,h=0;return d>a?(h=d/a,n(h)+"年前"):d>u?(h=d/u,n(h)+"个月前"):d>s?(h=d/s,n(h)+"天前"):d>i?(h=d/i,n(h)+"个小时前"):d>r?(h=d/r,n(h)+"分钟前"):"刚刚"}catch(t){return e}}var o=n(0);e.exports=r},function(e,t,n){"use strict";var r=function(e,t){for(var n=e?(""+e).split("."):["0"],r=t?t.split("."):[""],o="",i=n[0],s=r[0],u=i.length-1,a=!1,c=s.length-1;c>=0;c--)switch(s.substr(c,1)){case"":0>u||(o=i.substr(u--,1)+o);break;case"0":o=0>u?"0"+o:i.substr(u--,1)+o;break;case",":a=!0,o=","+o}if(u>=0)if(a)for(var f=i.length;u>=0;u--)o=i.substr(u,1)+o,u>0&&(f-u)%3==0&&(o=","+o);else o=i.substr(0,u+1)+o;o+=".",i=n.length>1?n[1]:"",s=r.length>1?r[1]:"",u=0;for(var c=0;s.length>c;c++)switch(s.substr(c,1)){case"":i.length>u&&(o+=i.substr(u++,1));break;case"0":o+=i.length>u?i.substr(u++,1):"0"}return o.replace(/^,+/,"").replace(/\.$/,"")};e.exports=r},function(e,t,n){"use strict";function r(e,t){if(!e)return s;var n=s;return u(e.get)&&(n=e.get(t)),n===s&&(n=e[t]),n}function o(e,t){if(!e)return s;try{for(var n=t.split("."),o=e,i=0;n.length>i;){if(!o)return o;var u=n[i];o=r(o,u),i++}return o}catch(e){console.log("[ERROR]",e)}return s}var i=n(0),s=void 0,u=i.isFunction;e.exports=o},function(e,t,n){"use strict";e.exports=function(e,t,n,r){for(var o=!0;o;){var i=e,s=t,u=n,a=r;o=!1;var c=100,f=100,l=0;if(s>=a&&i>=u)return{width:u,height:a};if(s>=a&&u>i&&(c=i,l=u/i,f=a/l),a>s&&i>=u&&(f=s,l=a/s,c=u/l),a>s&&u>i&&(f=s,l=a/s,u/=l,c=u),i>=c&&s>=f)return c=Math.round(c),f=Math.round(f),{width:c,height:f};e=i,t=s,n=c,r=f,o=!0,c=f=l=void 0}}},function(e,t,n){"use strict";e.exports=function(e,t){return Math.floor(Math.random()*(t-e)+e)}},function(e,t,n){"use strict";function r(e){return e&&"function"==typeof e.then&&"function"==typeof e.catch}e.exports=r},function(e,t,n){"use strict";function r(e){window.Promise?setTimeout(function(){e()},1):i("https://as.alipayobjects.com/g/component/es6-promise/3.2.2/es6-promise.min.js",e)}var o=n(2),i=o.loadStaticJS;e.exports=r},function(e,t,n){"use strict";function r(e){function t(){r||(setTimeout(function(){e()},2),r=!0)}var n=window.document,r=!1;return"complete"===n.readyState?void t():void(n.addEventListener?(n.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):n.attachEvent?(n.attachEvent("onreadystatechange",t),window.attachEvent("onload",t)):t())}e.exports=r},function(e,t,n){"use strict";function r(e,t){if(e===t)return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o=Object.prototype.hasOwnProperty.bind(t),i=0;n.length>i;i++)if(!o(n[i])||e[n[i]]!==t[n[i]])return!1;return!0}e.exports=r},function(e,t,n){"use strict";e.exports=function(){var e=[].map.call(arguments,function(e){return e.trim()}).filter(function(e){return e.length}).join("-");return e.length?1!==e.length&&/[_.\- ]+/.test(e)?e.replace(/^[_.\- ]+/,"").toLowerCase().replace(/[_.\- ]+(\w|$)/g,function(e,t){return t.toUpperCase()}):e[0]===e[0].toLowerCase()&&e.slice(1)!==e.slice(1).toLowerCase()?e:e.toLowerCase():""}},function(e,t,n){"use strict";function r(e,t){return e.replace(/[A-Z]/g,function(e){return t+e.charAt(0).toLowerCase()})}e.exports=r},function(e,t,n){"use strict";e.exports=function(e){var t=/^\\\\\?\\/.test(e),n=/[^\x00-\x80]+/.test(e);return t||n?e:e.replace(/\\/g,"/")}},function(e,t,n){"use strict";var r=n(0),o=n(1),i=o.trim,s=r.each,u=r.isArray;e.exports=function(e){if(!e)return{};var t={};return s(i(e).split("\n"),function(e){var n=e.indexOf(":"),r=i(e.slice(0,n)).toLowerCase(),o=i(e.slice(n+1));void 0===t[r]?t[r]=o:u(t[r])?t[r].push(o):t[r]=[t[r],o]}),t}},function(e,t,n){"use strict";function r(e){y.assignObject(j,e)}var o=n(4),i=n(5),s=n(6),u=n(7),a=n(11),c=n(12),f=n(13),l=n(14),p=n(16),d=n(15),h=n(17),m=n(8),v=n(18),g=n(2),y=n(0),w=n(19),b=n(20),x=n(10),R=n(1),E=n(9),j={};r(o),r(i),r(x),r(m),r(R),r(g),r(y),r(E),r({EventBus:u,CookieUtils:s,formatDate:a,formatDatePretty:c,formatNumber:f,getDeepValue:l,getRandomNum:p,getMediaWidthHeight:d,isPromise:h,loadPromiseShim:v,onDomReady:w,shallowEqual:b}),e.exports=j}])});