!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.RebixUtils=e():t.RebixUtils=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=28)}([function(t,e,n){"use strict";var r={},o=-1,i=Math.pow(2,53)-1,u=function(t){return function(e){return null==e?void 0:e[t]}},s=u("length"),a=Object.prototype.toString,c=Array.isArray,f=Object.keys||function(t){var e=[];if(!t)for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e},l=r.isArrayLike=function(t){var e=s(t);return"number"==typeof e&&e>=0&&i>=e},p=function(t){return function(e){return a.call(e)==="[object "+t+"]"}},h=r.isArray=c||p("Array"),v=p("Function");r.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t};var m=r.each=r.forEach=function(t,e){if(!t)return t;if(v(t.forEach))t.forEach(e);else{var n,r;if(l(t))for(n=0,r=t.length;r>n;n++)e(t[n],n,t);else{var o=f(t);for(n=0,r=o.length;r>n;n++)e(t[o[n]],o[n],t)}}return t};r.map=function(t,e,n){var o=[];return m(t,function(t,i){var u=e(t,i);n?r.isEmpty(u)||o.push(u):o.push(u)}),o},m(["Arguments","Function","String","Number","Date","RegExp","Error","ArrayBuffer","Blob"],function(t){r["is"+t]=p(t)});var g=function(t,e){return function(n){var r=arguments.length;if(2>r||null==n)return n;for(var o=1;r>o;o++)for(var i=arguments[o],u=t(i),s=u.length,a=0;s>a;a++){var c=u[a];e&&void 0!==n[c]||(n[c]=i[c])}return n}};r.defaults=g(f,!0),r.assignObject=r.extend=r.assign=g(f,!1),r.isEmpty=function(t){return null==t||(l(t)&&(h(t)||r.isString(t)||r.isArguments(t))?0===t.length:0===f(t).length)},r.isObjectLike=function(t){return!!t&&"object"==typeof t};var d=0;r.uniqueId=function(t){return""+(t=t||"")+d++},r.keys=f,r.noop=function(){},r.uniq=function(t,e){e=e||function(t){return t};for(var n={},r=[],o=0;t.length>o;o++){var i=t[o],u=""+e(i);n[u]||(r.push(i),n[u]=!0)}return r},r.uniqBy=function(t,e){return r.uniq(t,function(t){return t[e]})},r.pick=function(t,e){var n={};return m(e,function(e){n[e]=t[e]}),n};var y=r.findIndex=function(t,e){var n=o;return m(t,function(t,r){if(n===o){e(t,r)&&(n=r)}}),n},x=r.contains=function(t,e){return o!==y(t,function(t){return t===e})},w=r.different=function(t,e){var n=[];return m(t,function(t){x(e,t)||n.push(t)}),n};r.omit=function(t,e){var n=f(t),o=w(n,e);return r.pick(t,o)},r.values=function(t){return r.map(t,function(t){return t})},t.exports=r},function(t,e,n){"use strict";function r(){console.log(arguments)}t.exports=r},function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.then&&"function"==typeof t.catch}function o(t,e,n){var r=(new Date).getTime(),o=i[t];if(o&&1e3*e>r-o.time)return o.promise;var u=n();return i[t]={promise:u,time:r},u}var i={};t.exports={_PROMISE_CACHE:i,isPromise:r,getCacheOrCreatePromise:o}},function(t,e,n){"use strict";function r(t,e){if(a[t])return void e(!1);var n=s("script");n.src=t,n.type="text/javascript",n.language="javascript",n.onload=n.onreadstatechange=function(){e(!0),a[t]=!0},u("body")[0].appendChild(n)}function o(t,e){if(a[t])return void e(!1);var n=s("link");n.rel="stylesheet",n.type="text/css",n.href=t,n.onload=n.onreadstatechange=function(){e(!0),a[t]=!0},u("head")[0].appendChild(n)}function i(t){return function(e){var n=c[e];return n||(n=new Promise(function(n){t(e,function(t){n(t)})}),c[e]=n,n)}}var u=document.getElementsByTagName,s=document.createElement,a={},c={};t.exports={loadStaticJS:r,loadStaticCSS:o,loadStaticJSPromise:i(r),loadStaticCssPromise:i(o)}},function(t,e,n){"use strict";function r(t,e,n,r,o){return new Promise(function(i,u){var s=new XMLHttpRequest;s.open(t,e,!0),s.responseType=o||"text";var a="Content-Type";"form"===r&&s.setRequestHeader(a,"application/x-www-form-urlencoded"),"json"===r&&s.setRequestHeader(a,"application/json;charset=UTF-8"),s.onreadystatechange=function(){if(4==s.readyState)if(s.status>=200&&300>s.status||304==s.status){var t=s.responseText;i(t)}else u(s.status)},n?s.send(n):s.send()})}function o(t){return JSON.parse(t)}function i(t,e){return e?h.getCacheOrCreatePromise("get:"+t,e,function(){return r("GET",t)}):r("GET",t)}function u(t,e){return i(t,e).then(o)}function s(t,e,n){return r("POST",t,e,n)}function a(t,e){return s(t,JSON.stringify(e),"json").then(o)}function c(t,e){return s(t,e,"form")}function f(t,e){return s(t,e,"form").then(o)}function l(t,e,n,r){void 0!==r&&""!==r&&null!==r&&e.push(t?n+"="+encodeURIComponent(r):n+"="+r)}function p(t,e){var n=[];for(var r in t)if(t.hasOwnProperty(r)){var o=t[r];if("[object Array]"===Object.prototype.toString.call(o))for(var i=0;o.length>i;i++){var u=o[i];l(e,n,r,u)}else l(e,n,r,o)}return n.join("&")}var h=n(2);t.exports={sendXmlHttpRequest:r,sendGetRequest:i,sendGetJSONRequest:u,sendPostRequest:s,sendPostFormRequest:c,sendPostFormRequest2:f,sendPostJSONRequest:a,toQueryString:p}},function(t,e,n){"use strict";function r(t){return t?[].concat(Array.prototype.slice.call(t)):[]}t.exports={toArray:r}},function(t,e,n){"use strict";var r=window.location.host;t.exports={set:function(t,e,n,o,i){if(i){var u=new Date,s=new Date;s.setTime(u.getTime()+36e5*i)}return window.document.cookie=t+"="+e+"; "+(i?"expires="+s.toGMTString()+"; ":"")+(o?"path="+o+"; ":"path=/; ")+(n?"domain="+n+";":"domain="+r+";"),!0},get:function(t){var e=RegExp("(?:^|;+|\\s+)"+t+"=([^;]*)"),n=window.document.cookie.match(e);return n?n[1]:""},remove:function(t,e,n){window.document.cookie=t+"=; expires=Mon, 26 Jul 1997 05:00:00 GMT; "+(n?"path="+n+"; ":"path=/; ")+(e?"domain="+e+";":"domain="+r+";")}}},function(t,e,n){"use strict";function r(t,e){var n=this;n.name=t,n[i]=e,n[o]=[]}var o="$$listeners$$",i="listenerWrapper",u=r.prototype;u.on=function(t,e){this[o].push({eventName:t,listener:e})},u.off=function(t,e){for(var n=this,r=n[o],i=[],u=0;r.length>u;u++){var s=r[u];s.eventName===t&&s.listener===e||i.push(s)}n[o]=i},u.emit=function(t,e,n,r,u,s){for(var a=this,c=a[o],f=a[i],l=0;c.length>l;l++){var p=c[l];p.eventName===t&&p.listener&&(f?f(p.listener,e,n,r,u,s):p.listener(e,n,r,u,s))}},t.exports=r},function(t,e,n){"use strict";function r(){for(var t=[],e=0;arguments.length>e;e++){var n=arguments[e];if(n){var o=typeof n;if("string"===o||"number"===o)t.push(n);else if(Array.isArray(n))t.push(r.apply(null,n));else if("object"===o)for(var i in n)a.call(n,i)&&n[i]&&t.push(i)}}return t.join(" ")}function o(t,e){return e=e||{},s({display:t?"block":"none"},e)}function i(t,e){return e=e||{},t&&(e.display="none"),e}var u=n(0),s=u.assignObject,a={}.hasOwnProperty;t.exports={classNames:r,showStyle:o,hideStyle:i}},function(t,e,n){"use strict";function r(t,e){u[t]=e}function o(t){var e=i[t];if(e)return e;var n=u[t];if(!n)throw Error("[ERROR] module is not exist : "+t);if(s[t])throw Error("[ERROR] module is circular reference : "+t);return s[t]=!0,e=n()||"return void",s[t]=!1,i[t]=e,e}var i={},u={},s={};t.exports={defineModule:r,requireModule:o}},function(t,e,n){"use strict";function r(t){return function(e,n){i(t)[e]=n}}function o(t){return function(e){return i(t)[e]}}function i(t){return t=t||"common",a[t]=a[t]||{}}function u(t,e){var n,r;e?(n=t,r=e):(n="common",r=t);var o=i(n);for(var u in r)if(r.hasOwnProperty(u)){var s=r[u];o[u]=s}}function s(){return a}var a={common:{}};t.exports={setService:r,getService:o,getServices:i,setServices:u,getAllServices:s}},function(t,e,n){"use strict";function r(t){return t.replace(/^\s*|\s*$/g,"")}function o(t){return t.replace(/^\s*/,"")}function i(t){return t.replace(/\s*$/,"")}function u(t,e){return t=""+t,0===t.indexOf(e)}t.exports={trim:r,trimLeft:o,trimRight:i,startWith:u,camelCase:n(24),deCamelCase:n(25),slash:n(26),upFirstChar:n(27)}},function(t,e,n){"use strict";function r(t,e,n){var r=this;r[i]=[],r[u]=t,r[s]=!1,r[a]=0,r[c]=e,r[f]=n}var o=n(1),i="_queue",u="_runner",s="_isRunning",a="_timeInterval",c="_timeSpace",f="_autoClear",l=r.prototype;l.pushTask=function(t){this[i].push(t)},l.getAllTask=function(){return this[i]},l.clearTask=function(){this[i]=[]},l.start=function(){var t=this;t[s]||(t[s]=!0,t[a]=setInterval(function(){var e=t[u];try{t[f]?t[i].length>0&&(e(t,t[i]),t[i]=[]):e(t)}catch(t){o(t)}},t[c]))},l.stop=function(){var t=this;if(t[s]){t[s]=!1;var e=t[a];e&&clearInterval(e)}},t.exports=r},function(t,e,n){"use strict";function r(){var t=this;t[s]=u,t[a]=u}function o(t,e,n){return t+e*f[n]}function i(t,e,n){return new Date(o(t.getTime(),e,n))}var u=null,s="_lastServerTimestamp",a="_lastClientTimestamp",c=r.prototype;c.updateServerTime=function(t,e){var n=this;n[s]=t,n[a]=e||(new Date).getTime()},c.getServerTimeNow=function(){var t=(new Date).getTime(),e=this;return e[s]?t+e[s]-e[a]:t};var f={ms:1,s:1e3,m:6e4,h:36e5,d:864e5,M:2628e6,Y:31536e6};t.exports={ServerTimeClass:r,ServerTimeUtils:new r,getTimeAfter:o,getDateAfter:i}},function(t,e,n){"use strict";function r(t){var e={};e.SPEC=["scheme","user","pass","host","port","path","query","fragment"],e.RE=/^([^:]+):\/\/(?:([^:@]+):?([^@]*)@)?(?:([^\/?#:]+):?(\d*))([^?#]*)(?:\?([^#]+))?(?:#(.+))?$/;var n;if(null!==(n=e.RE.exec(t))){for(var r={},o=0,i=e.SPEC.length;i>o;o++){r[e.SPEC[o]]=n[o+1]}n=r,r=null}return n}function o(t){t=t&&t.split("#")[0]||window.location.search;var e,n,r,o=t.indexOf("?"),i=t.substring(o+1).split("&"),u={};if(-1===o)return u;for(e=0;i.length>e;e++)try{if(o=i[e].indexOf("="),n=i[e].substring(0,o),r=i[e].substring(o+1),!(u[n]=r))throw Error("uri has wrong query string when run mapQuery.")}catch(t){a("错误：["+t.name+"] "+t.message+", "+t.fileName+", 行号:"+t.lineNumber+"; stack:"+typeof t.stack,2)}return u}function i(t,e){return o(e)[t]}function u(t){return s.map(t,function(t,e){return e+"="+encodeURIComponent(t)}).join("&")}var s=n(0),a=n(1);t.exports={parseURL:r,getQueryParam:i,mapQuery:o,toQueryString:u}},function(t,e,n){"use strict";t.exports=function(t,e){var n={"M+":t.getMonth()+1,"D+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};/(Y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length)));for(var r in n)RegExp("("+r+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?n[r]:("00"+n[r]).substr((""+n[r]).length)));return e}},function(t,e,n){"use strict";function r(t,e){try{var n=Math.floor,r=6e4,i=36e5,u=864e5,s=26784e5,a=321408e5,c=t;o.isString(t)?(t=t.replace(/-/gm,"/"),c=new Date(t)):o.isNumber(t)&&(c=new Date(t));var f=e?new Date(e):new Date,l=c.getTime(),p=f.getTime(),h=p-l,v=0;return h>a?(v=h/a,n(v)+"年前"):h>s?(v=h/s,n(v)+"个月前"):h>u?(v=h/u,n(v)+"天前"):h>i?(v=h/i,n(v)+"个小时前"):h>r?(v=h/r,n(v)+"分钟前"):"刚刚"}catch(e){return t}}var o=n(0);t.exports=r},function(t,e,n){"use strict";t.exports=function(t,e){for(var n=t?(""+t).split("."):["0"],r=e?e.split("."):[""],o="",i=n[0],u=r[0],s=i.length-1,a=!1,c=u.length-1;c>=0;c--)switch(u.substr(c,1)){case"":0>s||(o=i.substr(s--,1)+o);break;case"0":o=0>s?"0"+o:i.substr(s--,1)+o;break;case",":a=!0,o=","+o}if(s>=0)if(a)for(var f=i.length;s>=0;s--)o=i.substr(s,1)+o,s>0&&(f-s)%3==0&&(o=","+o);else o=i.substr(0,s+1)+o;o+=".",i=n.length>1?n[1]:"",u=r.length>1?r[1]:"",s=0;for(var c=0;u.length>c;c++)switch(u.substr(c,1)){case"":i.length>s&&(o+=i.substr(s++,1));break;case"0":o+=i.length>s?i.substr(s++,1):"0"}return o.replace(/^,+/,"").replace(/\.$/,"")}},function(t,e,n){"use strict";function r(t,e){if(!t)return s;var n=s;return a(t.get)&&(n=t.get(e)),n===s&&(n=t[e]),n}function o(t,e){if(!t)return s;try{for(var n=e.split("."),o=t,i=0;n.length>i;){if(!o)return o;o=r(o,n[i]),i++}return o}catch(t){u("[ERROR]",t)}return s}var i=n(0),u=n(1),s=void 0,a=i.isFunction;t.exports=o},function(t,e,n){"use strict";t.exports=function(t,e,n,r,o){for(var i=!0;i;){var u=t,s=e,a=n,c=r,f=o;if(i=!1,f||(f=0),f>2)return console.log("[ERROR]getMediaSize"),{width:a,height:c};var l=100,p=100,h=0;if(s>=c&&u>=a)return{width:a,height:c};if(s>=c&&a>u&&(l=u,h=a/u,p=c/h),c>s&&u>=a&&(p=s,h=c/s,l=a/h),c>s&&a>u&&(p=s,h=c/s,a/=h,l=a),u>=l&&s>=p)return l=Math.round(l),p=Math.round(p),{width:l,height:p};t=u,e=s,n=l,r=p,o=f+1,i=!0,l=p=h=void 0}}},function(t,e,n){"use strict";t.exports=function(t,e){return Math.floor(Math.random()*(e-t)+t)}},function(t,e,n){"use strict";function r(t){window.Promise?setTimeout(function(){t()},1):i("https://as.alipayobjects.com/g/component/es6-promise/3.2.2/es6-promise.min.js",t)}var o=n(3),i=o.loadStaticJS;t.exports=r},function(t,e,n){"use strict";function r(t){function e(){r||(setTimeout(function(){t()},2),r=!0)}var n=window.document,r=!1;if("complete"===n.readyState)return void e();n.addEventListener?(n.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):n.attachEvent?(n.attachEvent("onreadystatechange",e),window.attachEvent("onload",e)):e()}t.exports=r},function(t,e,n){"use strict";function r(t,e){if(t===e)return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;var n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(var r=Object.prototype.hasOwnProperty.bind(e),o=0;n.length>o;o++)if(!r(n[o])||t[n[o]]!==e[n[o]])return!1;return!0}t.exports=r},function(t,e,n){"use strict";t.exports=function(){var t=[].map.call(arguments,function(t){return t.trim()}).filter(function(t){return t.length}).join("-");return t.length?1!==t.length&&/[_.\- ]+/.test(t)?t.replace(/^[_.\- ]+/,"").toLowerCase().replace(/[_.\- ]+(\w|$)/g,function(t,e){return e.toUpperCase()}):t[0]===t[0].toLowerCase()&&t.slice(1)!==t.slice(1).toLowerCase()?t:t.toLowerCase():""}},function(t,e,n){"use strict";function r(t,e){return t.replace(/[A-Z]/g,function(t){return e+t.charAt(0).toLowerCase()})}t.exports=r},function(t,e,n){"use strict";t.exports=function(t){var e=/^\\\\\?\\/.test(t),n=/[^\x00-\x80]+/.test(t);return e||n?t:t.replace(/\\/g,"/")}},function(t,e,n){"use strict";function r(t){return t.replace(/(^|\s+)\w/g,function(t){return t.toUpperCase()})}t.exports=r},function(t,e,n){"use strict";function r(t){d.assignObject(C,t)}var o=n(4),i=n(5),u=n(6),s=n(7),a=n(15),c=n(16),f=n(17),l=n(18),p=n(20),h=n(19),v=n(8),m=n(21),g=n(3),d=n(0),y=n(22),x=n(23),w=n(14),b=n(11),S=n(12),R=n(13),E=n(10),O=n(9),j=n(2),C={};r(o),r(i),r(w),r(v),r(b),r(g),r(d),r(R),r(E),r(O),r(j),r({EventBus:s,CookieUtils:u,formatDate:a,formatDatePretty:c,formatNumber:f,getDeepValue:l,getRandomNum:p,getMediaWidthHeight:h,loadPromiseShim:m,onDomReady:y,shallowEqual:x,TaskQueueRunner:S,mixin:r}),t.exports=C}])});